---
index: 4
lang: "en"
title: "/etc/hosts"
meta_title: "/etc/hosts - DNS"
meta_description: "Explore the purpose of the /etc/hosts file in Linux. Learn how this file maps hostnames to IP addresses, its role in local DNS resolution, and how to configure it on systems like Debian. A guide to the etc hosts linux configuration."
meta_keywords: "/etc/hosts, etc hosts linux, debian hosts, etc host linux, etc hosts, Linux networking, hostname mapping, DNS resolution"
---

## Lesson Content

Before your Linux system queries a DNS server to resolve a hostname, it first looks for a mapping on the local machine. This initial check is a fundamental part of the name resolution process.

### The Role of /etc/hosts

The primary file for this local lookup is `/etc/hosts`. This simple text file contains static mappings of hostnames to IP addresses. The structure of the `etc hosts` file is straightforward, with each line containing three fields: the IP address, the canonical hostname, and optional aliases for that host.

Here is a typical example of an `etc host linux` file:

```plaintext
pete@icebox:~$ cat /etc/hosts
127.0.0.1       localhost
127.0.1.1       icebox
```

You will almost always find the `localhost` address mapped by default. This file is a standard feature across most Linux distributions, including on `Debian hosts`.

### Editing the etc hosts linux file

You can manually edit the `/etc/hosts` file to create your own mappings. Let's try a fun example. Add the following line to your file:

```plaintext
123.45.6.7  www.google.com
```

After saving the file, try navigating to `www.google.com` in your web browser. You'll find that it doesn't work. This is because we mapped `www.google.com` to an incorrect IP address. Since your system checks the local `/etc/hosts` file first, it uses our faulty mapping and never proceeds to query a DNS server to find the correct address. To fix this, simply remove the line you added.

While older systems used `/etc/hosts.deny` and `/etc/hosts.allow` for access control, this method is largely obsolete. Modern security practices rely on configuring firewall rules for robust protection instead.

### Local DNS Server Configuration

Traditionally, the `/etc/resolv.conf` file was used to specify the DNS name servers for lookups. However, with advancements in system management, this file is often no longer managed manually. As you can see in the example below, the file is generated automatically by another service. For managing DNS name server mappings, you should refer to the documentation for your specific distribution, as tools like `systemd-resolved` or `resolvconf` often handle this now.

```plaintext
# Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)
#     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN
nameserver 127.0.1.1
search localdomain
```

## Exercise

Follow these steps in your Ubuntu VM terminal to practice the concepts from this lesson:

1. **View DNS configuration**: Try this command
   ```bash
   cat /etc/resolv.conf
   ```
   Expected output:
   ```
   (Output will vary based on your system)
   ```

2. **Test DNS lookup**: Try this command
   ```bash
   nslookup google.com` or `host google.com
   ```
   Expected output:
   ```
   (Output will vary based on your system)
   ```

3. **Check hosts file**: Try this command
   ```bash
   cat /etc/hosts
   ```
   Expected output:
   ```
   (Output will vary based on your system)
   ```

4. **Query DNS**: Try this command
   ```bash
   dig google.com` (if available) or use nslookup
   ```
   Expected output:
   ```
   (Output will vary based on your system)
   ```

## Quiz Question

What file is used to map hostnames to IP addresses on our machines? (Please answer in English, paying attention to case sensitivity).

## Quiz Answer

/etc/hosts
